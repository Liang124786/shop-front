import{ai as _,v as k,ak as y,a1 as l,$ as t,S as a,R as i,_ as n,Y as V,a3 as v,ao as u}from"./index-C-Wof5fh.js";import{s as b}from"./order-BVvHKTPk.js";import{V as g,a as d,b as m}from"./route-block-CDH56o19.js";import{V as x}from"./VDivider-DMSXzlXu.js";import{V as D}from"./VDataTable-ByRRS1ag.js";import{V as h}from"./VContainer-Dvv4KtVd.js";import"./VPagination-Bn5wrU0a.js";import"./VList-CXA49yes.js";import"./ssrBoot-DksyFfg0.js";const w={__name:"orders",setup(B){const p=_(),c=k([]),f=[{title:"ID",key:"_id"},{title:"訂購人",key:"user",value:e=>e.user.account},{title:"訂購日期",key:"createdAt",value:e=>new Date(e.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"總金額",key:"totalPrice",value:e=>e.cart.reduce((r,s)=>r+s.product.price*s.quantity,0)}];return(async()=>{try{const{data:e}=await b.getAll();c.value=e.result}catch{p({text:"發生錯誤",snackbarProps:{color:"red"}})}})(),(e,r)=>(l(),y(h,null,{default:t(()=>[a(g,null,{default:t(()=>[a(d,{cols:"12"},{default:t(()=>[...r[0]||(r[0]=[i("h1",{class:"text-center"},"訂單管理",-1)])]),_:1}),a(x),a(d,{cols:"12"},{default:t(()=>[a(D,{headers:f,items:c.value},{"item.cart":t(({value:s})=>[i("ul",null,[(l(!0),n(V,null,v(s,o=>(l(),n("li",{key:o._id},u(o.product.name)+" x "+u(o.quantity),1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}};typeof m=="function"&&m(w);export{w as default};
